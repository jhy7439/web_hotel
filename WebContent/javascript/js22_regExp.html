
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>정규표현식을 이용한 유효성검사</title>
	<style>
		ul,li{margin:0;padding:0; list-style-type:none}
		#f{width:600px;margin:0 auto}
		#f>li{float:left;height:30px; border-bottom:solid 1px gray; padding:5px 0px}
		#f>li:nth-child(2n+1){width:100px}
		#f>li:nth-child(2n){width:500px}		
	</style>
	<script>
		var txt = "Javascript and html and css";
		//정규표현식
		var reg  = /html/i; // i:대소문자 구별없이 검사한다.
		
		var result = reg.test(txt);
		console.log(result);
		
		function regExpChk(){
			// ^ : 처음부터 ,  $ : 끝까지
			//아이디 검사 : 첫번째문자는 영문자, 영, 숫자, _만 허용, 8~12글자까지 허용
			reg = /^[a-zA-Z]{1}\w{7,11}$/; // [a-zA-Z0-9_] = \w: 영어 대소문자,숫자,_
			
			if(!reg.test(document.getElementById("id").value)){
				alert("아이디는 첫번째문자는 영문자, 영, 숫자, _만 허용, 8~12글자까지만 허용합니다.");
				return false;
			}
			//이름검사 : 한글이여야한다. 2~7글자 까지
			reg = /^[가-힣]{2,7}$/;
			if(!reg.test(document.getElementById("username").value)){
				alert("이름은 2~7글자까지 가능합니다.");
				return false;
			}
			//주민번호 검사 :  862314-2568235
			reg = /[0-9][0-9][01][0-9][0-3][0-9][-][1-8]{1}[0-9]{6}/;
			var jumin = document.getElementById("jumin1").value+"-";
			    jumin += document.getElementById("jumin2").value;
			if(!reg.test(jumin)){
				alert("주민등록번호를 잘못입력하였습니다..");
				return false;
			}
			//이메일검사 : goguma@nate.com          dd.co.kr
			//                                               ()? : 있어도 되고 없어도 되고
			reg = /^\w{8,20}[@][a-zA-Z]{2,10}[.][a-zA-Z]{2,3}([.][a-zA-Z]{2,3})?$/;
			
			if(!reg.test(document.getElementById("email").value)){
				alert("이메일을 잘못입력하였씁니다.");
				return false;
			}			
			//연락처 
			var tel = document.getElementById("tel1").value+"-";
			    tel += document.getElementById("tel2").value+"-";
			    tel += document.getElementById("tel3").value
			//      ()안 값이 1개 있어야 한다.
			reg = /^(010|02|032|031|041)[-][0-9]{3,4}[-][0-9]{4}$/;
			if(!reg.test(tel)){
				alert("전화번호를 잘못입력하였습니다.");
				return false;
			}			
			return true;			
		}
		function cursorMove(){
			var jumin = document.getElementById("jumin1").value;
			if(jumin.length==6){
				//커서이동
				document.getElementById("jumin2").focus();
			}
		}
	</script>
</head>
<body>
<h1 style="text-align:center">유효성 검사</h1>
<form method="post" action="aaa.jsp" onsubmit="return regExpChk()">
	<ul id="f">
		<li>아이디</li><li><input type="text" name="id" id="id" value="ahfhf6de"/></li>	
		<li>이름</li><li><input type="text" name="username" id="username" value="홍길동"/></li>
		<li>주민등록번호</li>
		<li><input type="text" name="jumin1" id="jumin1" maxlength="6" value="862314" onkeyup="cursorMove()"/> - 
		    <input type="text" name="jumin2" id="jumin2" maxlength="7" value="2568235"/></li>
		<li>이메일</li><li><input type="text" name="email" id="email" value="goguma777@nate.com"/></li>
		<li>연락처</li>
		<li><input type="text" name="tel1" id="tel1" size="3"/>-
		    <input type="text" name="tel2" id="tel2" size="4"/>-
		    <input type="text" name="tel3" id="tel3" size="4"/></li>
		<li><input type="submit" value="등록"/>	</li>
	</ul>
</form>
</body>
</html>