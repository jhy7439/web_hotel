<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>갤러리</title>
<style>
	/*이미지 목록*/
	#imgAll{width:800px;margin:0 auto;border:1px solid gray}
	#imgAll>img{width:20%;height:150px}
	/*큰이미지 보여주기*/
	#big{width:400px;height:400px;border:2px solid gray;background:#fff; display:none; position:absolute;
			z-index:100}
	#bigFileName{height:40px;line-height:40px;font-size:1.5em;text-align:center;background:#ddd}
	#bigImg{width:400px;height:360px}
	#modal{background:gray;opacity:0.5; display:none;position:absolute; width:100%; left:0; top:0}
</style>
<script>
	//이미지 목록 만들기
	var imgList = ['1.jpg','10.jpg','11.jpg','12.jpg','13.gif','14.gif','15.gif','16.gif','17.png',
					'18.png','19.png','2.jpg','20.png','21.png','22.png','23.png','1.jpg','10.jpg','11.jpg','12.jpg','13.gif','14.gif','15.gif','16.gif','17.png',
					'18.png','19.png','2.jpg','20.png','21.png','22.png','23.png','1.jpg','10.jpg','11.jpg','12.jpg','13.gif','14.gif','15.gif','16.gif','17.png',
					'18.png','19.png','2.jpg','20.png','21.png','22.png','23.png','1.jpg','10.jpg','11.jpg','12.jpg','13.gif','14.gif','15.gif','16.gif','17.png',
					'18.png','19.png','2.jpg','20.png','21.png','22.png','23.png','1.jpg','10.jpg','11.jpg','12.jpg','13.gif','14.gif','15.gif','16.gif','17.png',
					'18.png','19.png','2.jpg','20.png','21.png','22.png','23.png','1.jpg','10.jpg','11.jpg','12.jpg','13.gif','14.gif','15.gif','16.gif','17.png',
					'18.png','19.png','2.jpg','20.png','21.png','22.png','23.png','1.jpg','10.jpg','11.jpg','12.jpg','13.gif','14.gif','15.gif','16.gif','17.png',
					'18.png','19.png','2.jpg','20.png','21.png','22.png','23.png','1.jpg','10.jpg','11.jpg','12.jpg','13.gif','14.gif','15.gif','16.gif','17.png',
					'18.png','19.png','2.jpg','20.png','21.png','22.png','23.png','1.jpg','10.jpg','11.jpg','12.jpg','13.gif','14.gif','15.gif','16.gif','17.png',
					'18.png','19.png','2.jpg','20.png','21.png','22.png','23.png','1.jpg','10.jpg','11.jpg','12.jpg','13.gif','14.gif','15.gif','16.gif','17.png',
					'18.png','19.png','2.jpg','20.png','21.png','22.png','23.png','1.jpg','10.jpg','11.jpg','12.jpg','13.gif','14.gif','15.gif','16.gif','17.png',
					'18.png','19.png','2.jpg','20.png','21.png','22.png','23.png'];
	function setImage(){
		var imgTag ="";
		for(idx=0; idx<imgList.length; idx++){
			imgTag += "<img src='"+imgList[idx]+"' onclick='bigView("+idx+")'/>";
			
		}
		document.getElementById("imgAll").innerHTML= imgTag;
	}
	//큰이미지 보기
	function bigView(f){
		//모달창 표시
		//높이, 보여주기
		var body = document.body;  //h = body.offsetHeight;
		var html = document.documentElement;
		// 
		var h = html.scrollHeight; // html.scrollWidth;
		
		document.getElementById("modal").style.height = h + "px";
		document.getElementById("modal").style.display = "block";
		
		//큰이미지 Div
		var bigDiv = document.getElementById("big");
		bigDiv.style.display = "block";
		
		var x = event.clientX;
		var y = event.clientY;
		bigDiv.style.left = x-200+"px";
		bigDiv.style.top = parseInt(document.documentElement.scrollTop)+ y+"px";
		
		//제목변경
		document.getElementById("bigFileName").innerHTML = imgList[index];
		//이미지 파일명 변경
		document.getElementByid("bigImg").src=imgList[index];
	}
	//모달, bigView 닫기
	function bigViewClose(){
		document.getElementById("modal").style.display="none";
		document.getElementById("big").style.display="noen";
	}
	//큰이미지 움직이기
	var flag = false, x, y, divX, divY;
	function imageMoveStart(){
		x = event.clientX;
		y = event.clientY;
		
		divX = parseInt(document.getElementById("big").style.left);
		divY = parseInt(document.getElementById("big").style.top);
		consoleLog
		flah = true;
		document.onmousemove = setDivXY;
	}
	function setDivXY(){
		if(flag){
			document.getElementById("big").style.left =divX+ event.clickX - x + "px";
			document.getElementById("big").style.top = divY+event.clickY - y + "px";
		}
	}
	function setFlag(){
		flag = false;
	}
	document.onmouseup = setFlag;
</script>
</head>
<body onload="setImage()">
<!-- 이미지 목록 -->
<div id="imgAll"></div>
<!-- 큰 이미지 보여주기 -->
<div id="big">
	<div id="bigFileName" onmousedown="imgeMoveStart()"></div>
	<img src="1.jpg" id="bigImg" onClick="bigViewClose()"/>
</div>
<!-- 모달 -->
<div id="modal"></div>
</body>
</html>